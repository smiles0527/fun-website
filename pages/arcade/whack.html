<!DOCTYPE html>
<html>
<head>
    <title>Whack-a-Troll</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500&display=swap" rel="stylesheet">
    <style>
        body { background: #0a0a0c; color: white; font-family: 'Space Grotesk', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        #grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .hole { width: 100px; height: 100px; background: #222; border-radius: 50%; position: relative; overflow: hidden; border: 4px solid #444; cursor: pointer; }
        .troll { width: 80%; height: 80%; background: #ff7675; border-radius: 50%; position: absolute; bottom: -100%; left: 10%; transition: bottom 0.1s; }
        .troll.up { bottom: 0; }
        #score { font-size: 30px; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div id="score">Score: 0</div>
    <div id="grid">
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
        <div class="hole"><div class="troll"></div></div>
    </div>

    <script>
        const holes = document.querySelectorAll('.hole');
        const scoreBoard = document.getElementById('score');
        let lastHole;
        let timeUp = false;
        let score = 0;

        function randomTime(min, max) { return Math.round(Math.random() * (max - min) + min); }

        function randomHole(holes) {
            const idx = Math.floor(Math.random() * holes.length);
            const hole = holes[idx];
            if (hole === lastHole) return randomHole(holes);
            lastHole = hole;
            return hole;
        }

        function peep() {
            const time = randomTime(200, 1000);
            const hole = randomHole(holes);
            const troll = hole.querySelector('.troll');
            troll.classList.add('up');
            setTimeout(() => {
                troll.classList.remove('up');
                if (!timeUp) peep();
            }, time);
        }

        function startGame() {
            scoreBoard.textContent = 'Score: 0';
            timeUp = false;
            score = 0;
            peep();
            setTimeout(() => timeUp = true, 10000);
        }

        function bonk(e) {
            if(!e.isTrusted) return; 
            score++;
            this.classList.remove('up');
            scoreBoard.textContent = 'Score: ' + score;
        }

        document.querySelectorAll('.troll').forEach(troll => troll.addEventListener('click', bonk));
        
        // Auto Start
        setTimeout(startGame, 1000);
    </script>
</body>
</html>

